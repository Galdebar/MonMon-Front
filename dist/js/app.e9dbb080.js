(function(e){function t(t){for(var r,s,o=t[0],c=t[1],u=t[2],p=0,m=[];p<o.length;p++)s=o[p],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&m.push(a[s][0]),a[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(m.length)m.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},i=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"007b":function(e,t,n){},"0131":function(e,t,n){"use strict";var r=n("5cef"),a=n.n(r);a.a},"031c":function(e,t,n){},"08d4":function(e,t,n){},1513:function(e,t,n){},"18b4":function(e,t,n){},"1e7e":function(e,t,n){"use strict";var r=n("d810"),a=n.n(r);a.a},"1f89":function(e,t,n){"use strict";var r=n("daab"),a=n.n(r);a.a},"218b":function(e,t,n){"use strict";var r=n("f5b7"),a=n.n(r);a.a},2540:function(e,t,n){},"2c79":function(e,t,n){"use strict";var r=n("61db"),a=n.n(r);a.a},"4c26":function(e,t,n){"use strict";var r=n("b770"),a=n.n(r);a.a},"4d6b":function(e,t,n){},"4ea6":function(e,t,n){"use strict";var r=n("2540"),a=n.n(r);a.a},"53b0":function(e,t,n){"use strict";var r=n("cc12"),a=n.n(r);a.a},"53cd":function(e,t,n){"use strict";var r=n("cb8e"),a=n.n(r);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:"component-fade",mode:"out-in"}},[e.isLoading?n("Loading"):e._e()],1),n("transition",{attrs:{name:"component-fade",mode:"out-in"}},[e.isLoggedIn?n("MainState"):n("LandingState")],1)],1)},i=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Header",{ref:"header",on:{hideOverlay:e.triggerOverlay}}),n("EditItem",{ref:"editItemView",on:{triggerOverlay:e.triggerOverlay,refreshList:e.refreshList}}),n("TopBar",{on:{moveHeader:e.moveHeader}}),n("div",{class:{hidden:!e.isOverlayShown},attrs:{id:"main-color-overlay"}}),n("ShoppingListMain",{ref:"shoppingListMain",on:{editItem:e.editItem}}),n("BottomBar",{on:{refreshList:e.refreshList}})],1)},o=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{ref:"header",class:{hidden:e.isHidden}},[n("transition",{attrs:{name:"component-fade",mode:"out-in"}},[e.isSettingsOpen?n("Settings",{on:{"close-header":e.moveHeader,"close-settings":e.toggleSettings}}):n("HeaderMain",{on:{"close-header":e.moveHeader,"go-to-settings":e.toggleSettings}})],1)],1)},u=[],l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"header-top no-wrap-flex separator-bottom-dark small-padding"},[n("Logo"),n("button",{staticClass:"white",on:{click:e.closeHeader}},[n("CloseIcon")],1)],1),n("User"),n("div",{staticClass:"no-wrap-flex"},[n("button",{staticClass:"yellow",on:{click:e.logOut}},[e._v("Logout")]),n("button",{staticClass:"yellow",on:{click:e.deleteList}},[e._v("Delete List")])])],1)},p=[],m=(n("96cf"),n("1da1")),d=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},h=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"close-icon"},[n("div"),n("div")])}],g=(n("f167"),n("2877")),f={},v=Object(g["a"])(f,d,h,!1,null,"893c7230",null),w=v.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",{staticClass:"logo"},[n("span",[e._v(e._s(e.text))]),e._v(e._s(e.text))])},I=[],x={name:"Logo",data:function(){return{text:"Mon"}}},y=x,k=(n("62c1"),Object(g["a"])(y,b,I,!1,null,"62371ccb",null)),C=k.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"standard-margins-vertical separator-bottom-dark"},[n("div",{staticClass:"no-wrap-flex"},[n("h3",[e._v("User:")]),n("h3",[e._v(e._s(e.userEmail))])])])},O=[],L={name:"User",computed:{userEmail:function(){return this.$store.getters.getUserEmail}}},S=L,R=(n("c819"),Object(g["a"])(S,_,O,!1,null,"c241cff8",null)),j=R.exports,E={name:"HeaderMain",components:{Logo:C,CloseIcon:w,User:j},methods:{closeHeader:function(){this.$emit("close-header")},goToSettings:function(){this.$emit("go-to-settings")},logOut:function(){this.$store.dispatch("logOut")},deleteList:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("should fire from header"),t.next=3,e.$store.dispatch("deleteList");case 3:case"end":return t.stop()}}),t)})))()}}},T=E,$=(n("1e7e"),Object(g["a"])(T,l,p,!1,null,"3549d984",null)),N=$.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{hidden:e.isHidden},attrs:{id:"settings"}},[n("div",{staticClass:"header-top no-wrap-flex separator-bottom-dark small-padding"},[n("button",{on:{click:e.back}},[n("BackIcon")],1),n("h1",[e._v("Settings")]),n("button",{staticClass:"white",on:{click:e.closeMenu}},[n("CloseIcon")],1)]),n("div",{staticClass:"vertical-flex-wrap"},[n("div",{staticClass:"no-wrap-flex"},[n("button",{staticClass:"yellow",on:{click:e.logOut}},[e._v("Logout")]),n("button",{staticClass:"yellow",on:{click:e.deleteUser}},[e._v("Delete List")])])])])},D=[],M=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},A=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"back-icon"},[n("div"),n("div")])}],B=(n("711c"),{}),H=Object(g["a"])(B,M,A,!1,null,"16225ea9",null),z=H.exports,U={name:"Settings",components:{CloseIcon:w,BackIcon:z},data:function(){return{isHidden:!0,alertText:"User deletion requested! You can cancel it by logging in within 48 hours."}},methods:{closeMenu:function(){this.$emit("close-header")},back:function(){this.$emit("close-settings")},logOut:function(){this.$store.dispatch("logOut")},deleteUser:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("deleteList");case 2:case"end":return t.stop()}}),t)})))()}}},q=U,V=(n("0131"),Object(g["a"])(q,P,D,!1,null,"2c7a74a3",null)),J=V.exports,F={name:"Header",data:function(){return{isHidden:!0,isSettingsOpen:!1}},components:{HeaderMain:N,Settings:J},methods:{moveHeader:function(){this.isHidden?this.isHidden=!1:(this.isHidden=!0,this.isSettingsOpen=!1,this.$emit("hideOverlay"))},toggleSettings:function(){this.isSettingsOpen=!this.isSettingsOpen}}},Z=F,K=(n("cc40"),Object(g["a"])(Z,c,u,!1,null,"3046a388",null)),Q=K.exports,G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container",attrs:{id:"top-bar"}},[n("div",{staticClass:"wrapper"},[n("button",{staticClass:"yellow",on:{click:e.moveHeader}},[n("MenuIcon")],1),n("h2",[e._v(e._s(e.title))])])])},Y=[],W=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},X=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"menu-icon"},[n("div"),n("div"),n("div")])}],ee=(n("dc4c"),{}),te=Object(g["a"])(ee,W,X,!1,null,"56709f49",null),ne=te.exports,re={name:"TopBar",components:{MenuIcon:ne},data:function(){return{title:"Shopping List"}},methods:{moveHeader:function(){this.$emit("moveHeader")}}},ae=re,ie=(n("1f89"),Object(g["a"])(ae,G,Y,!1,null,"788652fe",null)),se=ie.exports,oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"shopping-list-main"}},[n("transition-group",{attrs:{name:"list-complete"}},[n("ShoppingListPending",{key:e.pendingListKey,ref:"shoppingListPending",staticClass:"list-complete-item",on:{editItem:e.editItem}}),e.isCartEmpty?e._e():n("ShoppingListInCart",{key:e.inCartListKey,staticClass:"list-complete-item"})],1),n("div",{attrs:{id:"list-bottom-break"}})],1)},ce=[],ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"shopping-list-pending"}},[n("transition-group",{attrs:{name:"list-complete"}},e._l(e.itemCategories,(function(t){return n("ShoppingListCategory",{key:t,staticClass:"list-complete-item",attrs:{title:t},on:{editItem:e.editItem}})})),1)],1)},le=[],pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper shopping-category small-padding"},[n("h2",{staticClass:"category-title",class:e.itemClassName},[e._v(e._s(e.title))]),n("div",{staticClass:"container"},[n("transition-group",{attrs:{name:"list-complete"}},e._l(e.items,(function(t){return n("ShoppingItemPending",{key:t.id,staticClass:"list-complete-item",attrs:{"shopping-item-d-t-o":t},on:{editItem:e.editItem}})})),1)],1)])},me=[],de=(n("ac1f"),n("5319"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"shopping-item default-padding"},[n("a",{on:{click:e.editItem}},[n("EditItemIcon")],1),n("div",{staticClass:"text"},[n("h3",[e._v(" "+e._s(e.shoppingItemDTO.itemName)+" "),e.shoppingItemDTO.quantity>1?n("span",[e._v(" "+e._s(e.shoppingItemDTO.quantity)+" ")]):e._e()]),n("ShoppingItemDeal",{attrs:{"item-deal":e.shoppingItemDTO.deal}}),n("h5",{class:{shown:e.shoppingItemDTO.comment.length>0}},[e._v(" "+e._s(e.shoppingItemDTO.comment)+" ")])],1),n("button",{on:{click:e.markAsBought}})])}),he=[],ge=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},fe=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"edit-btn-icon icon"},[n("div",{staticClass:"dot icon-element"}),n("div",{staticClass:"dot icon-element"}),n("div",{staticClass:"dot icon-element"})])}],ve=(n("e4a3"),{}),we=Object(g["a"])(ve,ge,fe,!1,null,"7fe78da2",null),be=we.exports,Ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"shopping-item-deal"},[e.showDeal?n("div",{staticClass:"no-wrap-flex separator-top-dark"},[n("h4",[e._v("Best deal")]),n("h5",[e._v(" "+e._s(e.itemDeal.itemBrand)+" "+e._s(e.itemDeal.title)+" at "+e._s(e.itemDeal.shopTitle)+" ")]),e.hasPrice?n("h5",[e._v("Price: € "+e._s(e.itemDeal.price))]):e._e()]):e._e()])},xe=[],ye={name:"ShopppingItemDeal",props:{itemDeal:Object},computed:{hasPrice:function(){return 0!==this.itemDeal.price},showDeal:function(){return 0!==this.itemDeal.price||""!==this.itemDeal.itemKeyword||""!==this.itemDeal.itemBrand||""!==this.itemDeal.shopTitle}}},ke=ye,Ce=(n("a655"),Object(g["a"])(ke,Ie,xe,!1,null,"3d15b749",null)),_e=Ce.exports,Oe={name:"ShoppingItemPending",components:{EditItemIcon:be,ShoppingItemDeal:_e},props:{shoppingItemDTO:Object},data:function(){return{shoppingItem:{}}},methods:{editItem:function(){console.log("should edit item"),this.$emit("editItem",this.createShoppingItem())},markAsBought:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.createShoppingItem(),n.inCart=!0,e.$store.dispatch("updateItem",n);case 3:case"end":return t.stop()}}),t)})))()},createShoppingItem:function(){return{id:this.shoppingItemDTO.id,itemName:this.shoppingItemDTO.itemName,itemCategory:this.shoppingItemDTO.itemCategory,quantity:this.shoppingItemDTO.quantity,comment:this.shoppingItemDTO.comment,inCart:this.shoppingItemDTO.inCart}}}},Le=Oe,Se=(n("60e9"),Object(g["a"])(Le,de,he,!1,null,"32d1d222",null)),Re=Se.exports,je={name:"ShoppingListCategory",components:{ShoppingItemPending:Re},props:{title:String},computed:{items:function(){return this.$store.getters.getPendingItemsByCategory(this.title)},itemClassName:function(){var e="category-color-",t=this.title.replace(/ .*/,"").replace(",","").toLowerCase();return e+t}},methods:{editItem:function(e){this.$emit("editItem",e)}}},Ee=je,Te=(n("c2bf"),Object(g["a"])(Ee,pe,me,!1,null,"37b63c25",null)),$e=Te.exports,Ne={name:"ShoppingListPending",components:{ShoppingListCategory:$e},computed:{itemCategories:function(){return this.$store.getters.notEmptyCategories}},methods:{editItem:function(e){this.$emit("editItem",e)}}},Pe=Ne,De=(n("f7e3"),Object(g["a"])(Pe,ue,le,!1,null,"53d506c5",null)),Me=De.exports,Ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper",attrs:{id:"shopping-list-in-cart"}},[n("h1",[e._v(e._s(e.title))]),n("div",{staticClass:"container"},[n("div",{staticClass:"top"},[n("div",{staticClass:"no-wrap-flex default-padding"},[n("button",{on:{click:e.deleteAllItems}},[e._v("Clear")]),n("button",{on:{click:e.unmarkAllItems}},[e._v("Uncheck All")])])]),n("transition-group",{attrs:{name:"list-complete"}},e._l(e.itemsInCart,(function(e){return n("ShoppingItemInCart",{key:e.id,staticClass:"list-complete-item",attrs:{"shopping-item-d-t-o":e}})})),1)],1)])},Be=[],He=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"shopping-item default-padding"},[n("button",{on:{click:e.deleteItem}},[n("CloseIcon")],1),n("div",{staticClass:"text"},[n("h3",[e._v(" "+e._s(e.shoppingItemDTO.itemName)+" ")])]),n("button",{on:{click:e.unmarkAsBought}},[n("TickIcon")],1)])},ze=[],Ue=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},qe=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"checkmark"},[n("div",{staticClass:"checkmark-stem"}),n("div",{staticClass:"checkmark-kick"})])}],Ve=(n("5ec7"),{}),Je=Object(g["a"])(Ve,Ue,qe,!1,null,"bf74a466",null),Fe=Je.exports,Ze={name:"ShoppingItemInCart",components:{TickIcon:Fe,CloseIcon:w},props:{shoppingItemDTO:Object},created:function(){},data:function(){return{shoppingItem:{}}},methods:{unmarkAsBought:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.createShoppingItem(),n.isInCart=!1,e.$store.dispatch("updateItem",n);case 3:case"end":return t.stop()}}),t)})))()},deleteItem:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.dispatch("deleteItem",e.shoppingItemDTO);case 1:case"end":return t.stop()}}),t)})))()},createShoppingItem:function(){return{id:this.shoppingItemDTO.id,itemName:this.shoppingItemDTO.itemName,itemCategory:this.shoppingItemDTO.itemCategory,quantity:this.shoppingItemDTO.quantity,comment:this.shoppingItemDTO.comment,isInCart:this.shoppingItemDTO.isInCart}}}},Ke=Ze,Qe=(n("65d5"),Object(g["a"])(Ke,He,ze,!1,null,"0ac3d2a6",null)),Ge=Qe.exports,Ye={name:"ShoppingListInCart",components:{ShoppingItemInCart:Ge},data:function(){return{title:"In Cart"}},computed:{itemsInCart:function(){return this.$store.getters.getItems(!0)}},methods:{deleteAllItems:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.dispatch("deleteItemsInCart");case 1:case"end":return t.stop()}}),t)})))()},unmarkAllItems:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.dispatch("unmarkItemsInCart");case 1:case"end":return t.stop()}}),t)})))()}}},We=Ye,Xe=(n("2c79"),Object(g["a"])(We,Ae,Be,!1,null,"4239b99c",null)),et=Xe.exports,tt={name:"ShoppingListMain",components:{ShoppingListPending:Me,ShoppingListInCart:et},data:function(){return{isOverlayHidden:!0,pendingListKey:"pending",inCartListKey:"inCart"}},computed:{isCartEmpty:function(){return 0===this.$store.getters.getItems(!0).length}},methods:{editItem:function(e){this.$emit("editItem",e)}}},nt=tt,rt=(n("53cd"),Object(g["a"])(nt,oe,ce,!1,null,"57cc47da",null)),at=rt.exports,it=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container",attrs:{id:"bottom-bar"}},[n("form",{staticClass:"wrapper no-wrap-flex",attrs:{name:"add-item"},on:{submit:function(t){return t.preventDefault(),e.addItem(t)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newItemName,expression:"newItemName"}],attrs:{type:"text",list:"newItemsList",name:"newItem",placeholder:"Enter item name"},domProps:{value:e.newItemName},on:{input:function(t){t.target.composing||(e.newItemName=t.target.value)}}}),e.canShowSuggestions?n("datalist",{attrs:{id:"newItemsList",name:"newItemsList"}},e._l(e.searchResults,(function(t,r){return n("option",{key:r,domProps:{value:t.keyword}},[e._v(" "+e._s(t.keyword)+" ")])})),0):e._e(),n("button",{staticClass:"add-item-btn"},[n("PlusIcon")],1)])])},st=[],ot=(n("841c"),n("498a"),function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),ct=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"icon"},[n("div",{staticClass:"bar icon-element"}),n("div",{staticClass:"bar icon-element"})])}],ut=(n("74fd"),{}),lt=Object(g["a"])(ut,ot,ct,!1,null,"3742417c",null),pt=lt.exports,mt={name:"BottomBar",components:{PlusIcon:pt},data:function(){return{newItemName:"",searchResults:[]}},computed:{canShowSuggestions:function(){return 1!==this.searchResults.length||this.searchResults[0]!==this.newItemName}},watch:{newItemName:function(){this.search()}},methods:{addItem:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.createShoppingItem(),""===e.newItemName){t.next=8;break}return t.next=4,e.$store.dispatch("addNewShoppingItem",n);case 4:r=t.sent,r&&e.clearValues(),t.next=9;break;case 8:console.log("No item name specified-- should do something :P");case 9:case"end":return t.stop()}}),t)})))()},search:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""===e.newItemName.trim()){t.next=5;break}return t.next=3,e.$store.dispatch("search",e.newItemName);case 3:n=t.sent,e.searchResults=n;case 5:case"end":return t.stop()}}),t)})))()},clearValues:function(){this.newItemName=""},createShoppingItem:function(){return{itemName:this.newItemName,itemCategory:"",quantity:1,comment:"",isInCart:!1}}}},dt=mt,ht=(n("da70"),Object(g["a"])(dt,it,st,!1,null,"5abb776e",null)),gt=ht.exports,ft=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{hidden:!e.isShown},attrs:{id:"editItemView"}},[n("div",{staticClass:"container popup-container small-padding"},[n("div",{staticClass:"top no-wrap-flex"},[n("button",{on:{click:e.deleteItem}},[e._v("Delete")]),n("h1",[e._v(e._s(e.headerTitle))]),n("button",{on:{click:e.triggerView}},[n("CloseIcon")],1)]),n("div",{staticClass:"middle"},[n("div",{staticClass:"section",attrs:{id:"name"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.shoppingItem.itemName,expression:"shoppingItem.itemName"}],attrs:{type:"text"},domProps:{value:e.shoppingItem.itemName},on:{input:function(t){t.target.composing||e.$set(e.shoppingItem,"itemName",t.target.value)}}})]),n("div",{staticClass:"section",attrs:{id:"quantity"}},[n("h4",[e._v("Quantity")]),n("div",{staticClass:"input"},[n("button",{on:{click:e.decreaseQuantity}},[e._v("-")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.shoppingItem.quantity,expression:"shoppingItem.quantity"}],attrs:{type:"number"},domProps:{value:e.shoppingItem.quantity},on:{input:function(t){t.target.composing||e.$set(e.shoppingItem,"quantity",t.target.value)}}}),n("button",{on:{click:e.increaseQuantity}},[e._v("+ ")])])]),n("div",{staticClass:"section",attrs:{id:"category"}},[n("h4",[e._v("Category")]),n("div",{staticClass:"input"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.shoppingItem.itemCategory,expression:"shoppingItem.itemCategory"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.shoppingItem,"itemCategory",t.target.multiple?n:n[0])}}},e._l(e.itemCategories,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t)+" ")])})),0)])]),n("div",{staticClass:"section",attrs:{id:"comment"}},[n("h4",[e._v("Comment")]),n("div",{staticClass:"input"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.shoppingItem.comment,expression:"shoppingItem.comment"}],attrs:{placeholder:"Add a comment"},domProps:{value:e.shoppingItem.comment},on:{input:function(t){t.target.composing||e.$set(e.shoppingItem,"comment",t.target.value)}}})])])]),n("div",{staticClass:"bottom no-wrap-flex"},[n("button",{on:{click:e.triggerView}},[e._v("Cancel")]),n("button",{on:{click:e.updateItem}},[n("TickIcon")],1)])])])},vt=[],wt={name:"EditItem",components:{CloseIcon:w,TickIcon:Fe},data:function(){return{headerTitle:"Edit Item",shoppingItem:{},isShown:!1}},computed:{itemCategories:function(){return this.$store.getters.itemCategories}},methods:{updateItem:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("updateItem",e.shoppingItem);case 2:n=t.sent,n&&e.triggerView(e.createDummyItem());case 4:case"end":return t.stop()}}),t)})))()},deleteItem:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("deleteItem",e.shoppingItem);case 2:n=t.sent,n&&e.triggerView(e.createDummyItem());case 4:case"end":return t.stop()}}),t)})))()},triggerView:function(e){this.shoppingItem=e,this.isShown=!this.isShown,this.$emit("triggerOverlay")},createDummyItem:function(){return{id:"",itemName:"",itemCategory:"",quantity:0,comment:"",inCart:!1}},increaseQuantity:function(){this.shoppingItem.quantity++},decreaseQuantity:function(){this.shoppingItem.quantity--}}},bt=wt,It=(n("c4a3"),Object(g["a"])(bt,ft,vt,!1,null,"0a778f9a",null)),xt=It.exports,yt={name:"MainState",components:{Header:Q,TopBar:se,ShoppingListMain:at,BottomBar:gt,EditItem:xt},data:function(){return{isEditingItem:!1,isOverlayShown:!1}},mounted:function(){this.$store.dispatch("loadItemsAndCategories")},methods:{moveHeader:function(){this.$refs.header.moveHeader(),this.triggerOverlay()},triggerOverlay:function(){this.isOverlayShown=!this.isOverlayShown},refreshList:function(){},editItem:function(e){this.$refs.editItemView.triggerView(e)}}},kt=yt,Ct=Object(g["a"])(kt,s,o,!1,null,null,null),_t=Ct.exports,Ot=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"full-screen-yellow",attrs:{id:"landing"}},[n("transition",{attrs:{name:"component-fade",mode:"out-in"}},[e.showLogin?n("LoginState",{key:"login",on:{"go-to-registration":e.changeScreen}}):n("SignUpState",{key:"sign-up",on:{"go-to-login":e.changeScreen}})],1)],1)},Lt=[],St=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"landing-state-view",attrs:{id:"login-view"}},[n("div",{staticClass:"wrapper vertical-flex-center"},[n("Logo"),n("h2",[e._v("Please Log in")]),n("transition",{attrs:{name:"slide-fade"}},[e.showError?n("div",{staticClass:"error-msg"},[n("h2",[e._v("Error")]),n("transition-group",{attrs:{name:"list-complete",tag:"ul"}},e._l(e.errorMessages,(function(t){return n("li",{key:t,staticClass:"list-complete-item"},[e._v(" "+e._s(t)+" ")])})),0)],1):e._e()]),n("form",{staticClass:"vertical-flex-center",on:{submit:function(t){return t.preventDefault(),e.attemptLogin(t)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.listName,expression:"listName"}],attrs:{type:"text",name:"email",placeholder:"Enter email here"},domProps:{value:e.listName},on:{input:function(t){t.target.composing||(e.listName=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",name:"password",placeholder:"Enter password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("button",{staticClass:"yellow",on:{click:function(t){return t.preventDefault(),e.attemptLogin(t)}}},[e._v("Login")])]),n("h4",[e._v("Don't have an account yet?")]),n("button",{staticClass:"yellow",on:{click:function(t){return t.preventDefault(),e.register(t)}}},[e._v("Register")])],1)])},Rt=[],jt={name:"LoginState",components:{Logo:C},data:function(){return{listName:"",password:"",showError:!1,errorMessages:[]}},methods:{attemptLogin:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("http://localhost:8080/"),e.toggleErrorMsg(),""===e.listName||""===e.password){t.next=8;break}return n={name:e.listName,password:e.password},t.next=6,e.$store.dispatch("login",n);case 6:r=t.sent,void 0===r.token?(e.errorMessages.push(r.message),e.toggleErrorMsg()):e.clearFields();case 8:case"end":return t.stop()}}),t)})))()},toggleErrorMsg:function(){this.showError?(this.showError=!1,this.errorMessages=[]):0!==this.errorMessages.length?this.showError=!0:(this.showError=!1,this.errorMessages=[])},clearFields:function(){this.listName="",this.password=""},register:function(){this.$emit("go-to-registration")}}},Et=jt,Tt=(n("4ea6"),Object(g["a"])(Et,St,Rt,!1,null,"95914cb0",null)),$t=Tt.exports,Nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"landing-state-view",attrs:{id:"sign-up"}},[n("div",{staticClass:"wrapper vertical-flex-center"},[n("Logo"),n("h1",[e._v("Sign Up")]),n("transition",{attrs:{name:"slide-fade"}},[e.showError?n("div",{staticClass:"error-msg"},[n("h2",[e._v("Error")]),n("transition-group",{attrs:{name:"list-complete",tag:"ul"}},e._l(e.errorMessages,(function(t){return n("li",{key:t,staticClass:"list-complete-item"},[e._v(" "+e._s(t)+" ")])})),0)],1):e._e()]),n("transition",{attrs:{name:"component-fade",mode:"out-in"}},[e.showSuccess?n("div",{staticClass:"success-msg"},[n("h1",[e._v("Success!")]),n("p",[e._v("You can now login")]),n("button",{on:{click:e.goToLogin}},[e._v("Ok")])]):n("form",{staticClass:"vertical-flex-center",attrs:{name:"sign-up"},on:{submit:function(t){return t.preventDefault(),e.register(t)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.listName,expression:"listName"}],attrs:{type:"text",placeholder:"ExampleName",value:"list-name"},domProps:{value:e.listName},on:{input:function(t){t.target.composing||(e.listName=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.userPassword,expression:"userPassword"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:e.userPassword},on:{input:function(t){t.target.composing||(e.userPassword=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.confirmPassword,expression:"confirmPassword"}],attrs:{type:"password",placeholder:"Repeat Password"},domProps:{value:e.confirmPassword},on:{input:function(t){t.target.composing||(e.confirmPassword=t.target.value)}}}),n("div",{staticClass:"no-wrap-flex"},[n("button",{attrs:{type:"button"},on:{click:e.goToLogin}},[e._v("Back")]),n("button",{on:{click:function(t){return t.preventDefault(),e.register(t)}}},[e._v(" Confirm ")])])])])],1)])},Pt=[],Dt=(n("caad"),n("d3b7"),n("2532"),{name:"SignUpState",components:{Logo:C},data:function(){return{listName:"",savedListName:"",userPassword:"",confirmPassword:"",showError:!1,errorMessage:"",errorMessages:[],showSuccess:!1}},methods:{register:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.hideErrorMessages(),!e.checkInput()){t.next=7;break}return n={name:e.listName,password:e.userPassword},t.next=5,e.$store.dispatch("registerUser",n);case 5:r=t.sent,e.handleResponse(r);case 7:case"end":return t.stop()}}),t)})))()},checkInput:function(){return this.userPassword!==this.confirmPassword&&this.errorMessages.push("Passwords do not match."),""===this.userPassword&&""===this.confirmPassword&&this.errorMessages.push("Password fields cannot be empty"),""===this.listName&&this.errorMessages.push("Email field cannot be empty"),0===this.errorMessages.length||(this.showErrorMessage(),!1)},goToLogin:function(){this.clearAllFields(),this.$emit("go-to-login")},clearVisibleFields:function(){this.listName="",this.userPassword="",this.confirmPassword=""},clearAllFields:function(){this.clearVisibleFields(),this.showSuccess=!1,this.showError=!1,this.savedListName="",this.hideErrorMessages()},handleResponse:function(e){e.message.toLowerCase().includes("success")?this.showSuccessMessage():(this.errorMessages.push(e.message),this.showErrorMessage())},showSuccessMessage:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.savedListName=e.listName,e.showSuccess=!0,e.clearVisibleFields(),n=new Promise((function(e){setTimeout((function(){return e("Now it's done!")}),1e4)})),t.next=6,n;case 6:r=t.sent,r&&e.goToLogin();case 8:case"end":return t.stop()}}),t)})))()},showErrorMessage:function(){0!==this.errorMessages.length&&(this.showError=!0)},hideErrorMessages:function(){this.showError=!1,this.errorMessages.length=0},validateEmail:function(e){var t=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;return t.test(e)}}}),Mt=Dt,At=(n("4c26"),Object(g["a"])(Mt,Nt,Pt,!1,null,"2021ed11",null)),Bt=At.exports,Ht={name:"LandingState",components:{LoginState:$t,SignUpState:Bt},data:function(){return{showLogin:!0}},methods:{changeScreen:function(){this.showLogin=!this.showLogin}}},zt=Ht,Ut=(n("8ae4"),Object(g["a"])(zt,Ot,Lt,!1,null,"5f156260",null)),qt=Ut.exports,Vt=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Jt=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"loading-overlay"}},[n("div",{staticClass:"lds-roller"},[n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div")])])}],Ft={name:"Loading"},Zt=Ft,Kt=(n("218b"),Object(g["a"])(Zt,Vt,Jt,!1,null,"5fdc163d",null)),Qt=Kt.exports,Gt=(n("f5df1"),n("e282"),{name:"App",components:{MainState:_t,LandingState:qt,Loading:Qt},computed:{isLoggedIn:function(){return this.$store.getters.isUserLoggedIn},isLoading:function(){return this.$store.getters.isLoading}}}),Yt=Gt,Wt=(n("53b0"),Object(g["a"])(Yt,a,i,!1,null,"4bda55e1",null)),Xt=Wt.exports,en=(n("4160"),n("a434"),n("6062"),n("3ca3"),n("159b"),n("ddb0"),n("2f62")),tn="http://localhost:8080/";var nn="lists/login",rn="lists/logout",an="lists/create",sn="lists/delete",on="lists/changepassword";function cn(e){return un.apply(this,arguments)}function un(){return un=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=tn+sn,""===t){e.next=8;break}return e.next=4,fetch(n,{method:"DELETE",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)}))),un.apply(this,arguments)}function ln(e,t){return pn.apply(this,arguments)}function pn(){return pn=Object(m["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=tn+on,""===t||""===n){e.next=8;break}return e.next=4,fetch(r,{method:"POST",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify(t)});case 4:return a=e.sent,e.abrupt("return",a);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)}))),pn.apply(this,arguments)}function mn(e){return dn.apply(this,arguments)}function dn(){return dn=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=tn+nn,null==t&&void 0===t){e.next=8;break}return e.next=4,fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)}))),dn.apply(this,arguments)}function hn(e){return gn.apply(this,arguments)}function gn(){return gn=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null===t){e.next=8;break}return n=tn+rn,e.next=4,fetch(n,{method:"GET",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)}))),gn.apply(this,arguments)}function fn(e){return vn.apply(this,arguments)}function vn(){return vn=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=tn+an,null==t&&void 0===t){e.next=8;break}return e.next=4,fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)}))),vn.apply(this,arguments)}var wn="items/",bn="categories/",In="search",xn="getall",yn="update",kn="unmark/all",Cn="delete",_n="delete/incart",On="add";function Ln(e){return Sn.apply(this,arguments)}function Sn(){return Sn=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=tn+wn+xn,e.next=3,fetch(n,{headers:{Authorization:"Bearer ".concat(t)}});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)}))),Sn.apply(this,arguments)}function Rn(e){return jn.apply(this,arguments)}function jn(){return jn=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=tn+bn+xn,e.next=3,fetch(n,{headers:{Authorization:"Bearer ".concat(t)}});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)}))),jn.apply(this,arguments)}function En(e,t){return Tn.apply(this,arguments)}function Tn(){return Tn=Object(m["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=tn+wn+On,e.next=3,fetch(r,{method:"POST",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)}))),Tn.apply(this,arguments)}function $n(e,t){return Nn.apply(this,arguments)}function Nn(){return Nn=Object(m["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=tn+wn+yn,e.next=3,fetch(r,{method:"POST",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)}))),Nn.apply(this,arguments)}function Pn(e){return Dn.apply(this,arguments)}function Dn(){return Dn=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=tn+wn+kn,e.next=3,fetch(n,{method:"GET",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)}))),Dn.apply(this,arguments)}function Mn(e,t){return An.apply(this,arguments)}function An(){return An=Object(m["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=tn+wn+Cn,e.next=3,fetch(r,{method:"DELETE",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)}))),An.apply(this,arguments)}function Bn(e){return Hn.apply(this,arguments)}function Hn(){return Hn=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=tn+wn+_n,e.next=3,fetch(n,{method:"DELETE",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)}))),Hn.apply(this,arguments)}function zn(e,t){return Un.apply(this,arguments)}function Un(){return Un=Object(m["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=tn+bn+In,""===t){e.next=7;break}return a={shoppingItemCategory:"",keyword:t},e.next=5,fetch(r,{method:"POST",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify(a)});case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)}))),Un.apply(this,arguments)}r["a"].use(en["a"]);var qn=new en["a"].Store({state:{allShoppingItems:[],categories:{},isLoggedIn:!1,enableSync:!1,isSyncing:!1,isLoading:!1,authToken:""},mutations:{refreshItemsList:function(e,t){e.allShoppingItems=t},refreshCategories:function(e,t){e.categories=t},addItem:function(e,t){e.allShoppingItems.push(t)},updateItem:function(e,t){e.allShoppingItems.splice(t.oldItemIndex,1,t.shoppingItemDTO)},deleteItem:function(e,t){e.allShoppingItems.splice(t,1)},clearItems:function(e){e.allShoppingItems=[]},clearCategories:function(e){e.categories={}},setAuthToken:function(e,t){e.authToken=t},setIsLoggedIn:function(e,t){e.isLoggedIn=t},setEnableSync:function(e,t){e.enableSync=t},setIsLoading:function(e,t){e.isLoading=t},toggleIsSyncing:function(e){e.isSyncing=!e.isSyncing}},actions:{loadItemsAndCategories:function(e){return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.dispatch("toggleLoading"),t.next=3,e.dispatch("refreshCategories");case 3:return n=t.sent,t.next=6,e.dispatch("refreshItemsList");case 6:r=t.sent,r&&n&&(e.dispatch("toggleLoading"),e.dispatch("timedSync"));case 8:case"end":return t.stop()}}),t)})))()},timedSync:function(e){return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.state.enableSync||e.state.isSyncing){t.next=8;break}if(!e.state.isLoggedIn||e.state.isLoading){t.next=8;break}return e.commit("toggleIsSyncing"),n=new Promise((function(e){setTimeout((function(){return e("Now it's done!")}),1e4)})),t.next=6,n;case 6:r=t.sent,r&&!e.state.isLoading&&(console.log("syncing info"),e.dispatch("refreshItemsList"),e.commit("toggleIsSyncing"),e.dispatch("timedSync"));case 8:case"end":return t.stop()}}),t)})))()},refreshItemsList:function(e){return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ln(e.state.authToken);case 2:return n=t.sent,t.next=5,e.dispatch("handleObjectResponse",n);case 5:if(r=t.sent,null===r){t.next=11;break}return e.commit("refreshItemsList",r),t.abrupt("return",!0);case 11:return t.abrupt("return",!1);case 12:case"end":return t.stop()}}),t)})))()},refreshCategories:function(e){return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Rn(e.state.authToken);case 2:return n=t.sent,t.next=5,e.dispatch("handleObjectResponse",n);case 5:if(r=t.sent,a=[],null===r){t.next=13;break}return r.forEach((function(e){a.push(e.categoryName)})),e.commit("refreshCategories",a),t.abrupt("return",!0);case 13:return t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t)})))()},addNewShoppingItem:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.dispatch("toggleLoading"),n.next=3,En(t,e.state.authToken);case 3:return r=n.sent,n.next=6,e.dispatch("handleObjectResponse",r);case 6:if(a=n.sent,null===a){n.next=13;break}return e.commit("addItem",a),e.dispatch("toggleLoading"),n.abrupt("return",!0);case 13:return e.dispatch("toggleLoading"),n.abrupt("return",!1);case 15:case"end":return n.stop()}}),n)})))()},updateItem:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function n(){var r,a,i,s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.dispatch("toggleLoading"),r=e.state.authToken,n.next=4,$n(t,r);case 4:return a=n.sent,n.next=7,e.dispatch("handleObjectResponse",a);case 7:if(i=n.sent,null===i){n.next=16;break}return e.state.allShoppingItems.forEach((function(e,t){e.id===i.id&&(s=t)})),o={oldItemIndex:s,shoppingItemDTO:i},e.commit("updateItem",o),e.dispatch("toggleLoading"),n.abrupt("return",!0);case 16:return e.dispatch("toggleLoading"),n.abrupt("return",!1);case 18:case"end":return n.stop()}}),n)})))()},deleteItem:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function n(){var r,a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.dispatch("toggleLoading"),n.next=3,Mn(t,e.state.authToken);case 3:return r=n.sent,n.next=6,e.dispatch("handleBooleanResponse",r);case 6:if(a=n.sent,!a){n.next=13;break}if(e.state.allShoppingItems.forEach((function(e,n){e.id===t.id&&(i=n)})),void 0===i){n.next=13;break}return e.commit("deleteItem",i),e.dispatch("toggleLoading"),n.abrupt("return",!0);case 13:return e.dispatch("toggleLoading"),n.abrupt("return",!1);case 15:case"end":return n.stop()}}),n)})))()},deleteItemsInCart:function(e){return Object(m["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.dispatch("toggleLoading"),t.next=3,Bn(e.state.authToken);case 3:if(n=t.sent,!n.ok){t.next=10;break}return e.dispatch("refreshItemsList"),e.dispatch("toggleLoading"),t.abrupt("return",!0);case 10:return e.dispatch("toggleLoading"),t.abrupt("return",!1);case 12:case"end":return t.stop()}}),t)})))()},unmarkItemsInCart:function(e){return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.dispatch("toggleLoading"),t.next=3,Pn(e.state.authToken);case 3:return n=t.sent,t.next=6,e.dispatch("handleObjectResponse",n);case 6:if(r=t.sent,void 0===r){t.next=13;break}return r.forEach((function(t){e.state.allShoppingItems.forEach((function(n,r){if(n.id===t.id){var a={oldItemIndex:r,shoppingItemDTO:t};e.commit("updateItem",a)}}))})),e.dispatch("toggleLoading"),t.abrupt("return",!0);case 13:return e.dispatch("toggleLoading"),t.abrupt("return",!1);case 15:case"end":return t.stop()}}),t)})))()},search:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,zn(t,e.state.authToken);case 2:return r=n.sent,n.next=5,e.dispatch("handleObjectResponse",r);case 5:return a=n.sent,n.abrupt("return",a);case 7:case"end":return n.stop()}}),n)})))()},registerUser:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.dispatch("toggleLoading"),n.next=3,fn(t);case 3:return r=n.sent,n.next=6,r.json();case 6:if(a=n.sent,null!==a&&void 0!==a){n.next=13;break}return n.next=10,e.dispatch("toggleLoading");case 10:return n.abrupt("return",null);case 13:return e.dispatch("toggleLoading"),n.abrupt("return",a);case 15:case"end":return n.stop()}}),n)})))()},login:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.dispatch("toggleLoading"),n.next=3,mn(t);case 3:return r=n.sent,n.next=6,r.json();case 6:if(a=n.sent,void 0===a.token){n.next=16;break}return e.commit("setAuthToken",a.token),e.commit("setIsLoggedIn",!0),e.dispatch("toggleLoading"),e.commit("setEnableSync",!0),e.dispatch("loadItemsAndCategories"),n.abrupt("return",a);case 16:return e.dispatch("toggleLoading"),n.abrupt("return",a);case 18:case"end":return n.stop()}}),n)})))()},logOut:function(e){e.state.isLoggedIn&&(hn(e.state.authToken),e.commit("clearItems"),e.commit("clearCategories"),e.commit("setAuthToken",""),e.commit("setIsLoggedIn",!1),e.commit("setEnableSync",!1))},deleteList:function(e){return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("should fire from store"),e.dispatch("toggleLoading"),t.next=4,cn(e.state.authToken);case 4:if(n=t.sent,!n.ok){t.next=11;break}return t.next=8,n.json();case 8:r=t.sent,alert(r.message),e.dispatch("logOut");case 11:case"end":return t.stop()}}),t)})))()},changePassword:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function n(){var r,a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={oldPassword:t.oldPassword,newPassword:t.newPassword},n.next=3,ln(r,e.state.authToken);case 3:return a=n.sent,n.next=6,e.dispatch("handleTextResponse",a);case 6:return i=n.sent,n.abrupt("return",i);case 8:case"end":return n.stop()}}),n)})))()},handleObjectResponse:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.ok){n.next=2;break}return n.abrupt("return",t.json());case 2:200!==t.status&&(e.dispatch("logOut"),r=t.message,console.log(r));case 3:case"end":return n.stop()}}),n)})))()},handleTextResponse:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return 403===t.status&&e.dispatch("logOut"),n.next=3,t.text();case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})))()},handleBooleanResponse:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.ok){n.next=2;break}return n.abrupt("return",!0);case 2:return 403===t.status&&e.dispatch("logOut"),n.abrupt("return",!1);case 4:case"end":return n.stop()}}),n)})))()},toggleLoading:function(e){return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.state.isLoading){t.next=4;break}e.commit("setIsLoading",!1),t.next=10;break;case 4:return n=new Promise((function(e){setTimeout((function(){return e("Now it's done!")}),1e4)})),e.commit("setIsLoading",!0),t.next=8,n;case 8:r=t.sent,r&&e.state.isLoading&&(e.dispatch("logOut"),e.commit("setIsLoading",!1));case 10:case"end":return t.stop()}}),t)})))()}},getters:{itemCategories:function(e){return e.categories},getItems:function(e){return function(t){var n=[];return e.allShoppingItems.forEach((function(e){void 0!==e&&e.inCart===t&&n.push(e)})),n}},getPendingItemsByCategory:function(e){return function(t){var n=[];return e.allShoppingItems.forEach((function(e){e.itemCategory===t&&!1===e.inCart&&n.push(e)})),n}},notEmptyCategories:function(e,t){var n=[],r=function(r){var a=e.categories[r];t.getItems(!1).forEach((function(e){e.itemCategory!==a||n.push(a)}))};for(var a in e.categories)r(a);return new Set(n)},isUserLoggedIn:function(e){return e.isLoggedIn},isLoading:function(e){return e.isLoading},getAuthToken:function(e){return e.authToken}}});r["a"].config.productionTip=!1,new r["a"]({store:qn,render:function(e){return e(Xt)}}).$mount("#app")},"5cef":function(e,t,n){},"5ec7":function(e,t,n){"use strict";var r=n("f1f5"),a=n.n(r);a.a},"60e9":function(e,t,n){"use strict";var r=n("f1f1"),a=n.n(r);a.a},"61db":function(e,t,n){},"62c1":function(e,t,n){"use strict";var r=n("4d6b"),a=n.n(r);a.a},"65d5":function(e,t,n){"use strict";var r=n("08d4"),a=n.n(r);a.a},"6e64":function(e,t,n){},"711c":function(e,t,n){"use strict";var r=n("8b40"),a=n.n(r);a.a},"748d":function(e,t,n){},"74fd":function(e,t,n){"use strict";var r=n("031c"),a=n.n(r);a.a},"8ae4":function(e,t,n){"use strict";var r=n("a888"),a=n.n(r);a.a},"8b40":function(e,t,n){},"9c92":function(e,t,n){},a655:function(e,t,n){"use strict";var r=n("aa60"),a=n.n(r);a.a},a888:function(e,t,n){},aa60:function(e,t,n){},b770:function(e,t,n){},c150:function(e,t,n){},c2bf:function(e,t,n){"use strict";var r=n("c36f"),a=n.n(r);a.a},c36f:function(e,t,n){},c4a3:function(e,t,n){"use strict";var r=n("748d"),a=n.n(r);a.a},c819:function(e,t,n){"use strict";var r=n("1513"),a=n.n(r);a.a},cb8e:function(e,t,n){},cc12:function(e,t,n){},cc40:function(e,t,n){"use strict";var r=n("e4fe"),a=n.n(r);a.a},d810:function(e,t,n){},da70:function(e,t,n){"use strict";var r=n("c150"),a=n.n(r);a.a},daab:function(e,t,n){},dc4c:function(e,t,n){"use strict";var r=n("9c92"),a=n.n(r);a.a},e282:function(e,t,n){},e4a3:function(e,t,n){"use strict";var r=n("007b"),a=n.n(r);a.a},e4fe:function(e,t,n){},f167:function(e,t,n){"use strict";var r=n("6e64"),a=n.n(r);a.a},f1f1:function(e,t,n){},f1f5:function(e,t,n){},f5b7:function(e,t,n){},f7e3:function(e,t,n){"use strict";var r=n("18b4"),a=n.n(r);a.a}});
//# sourceMappingURL=app.e9dbb080.js.map